<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Transaction Table</title>
    <style>
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
      }
      table,
      th,
      td {
        border: 1px solid black;
      }
      th,
      td {
        padding: 10px;
        text-align: center;
      }
      th {
        background-color: #f2f2f2;
      }
    </style>
  </head>
  <body>
    <h1>Transaction Records</h1>
    <table>
      <thead>
        <tr>
          <th>Date & Time</th>
          <th>Description</th>
          <th>Gave</th>
          <th>Got</th>
          <th>Running Total</th>
        </tr>
      </thead>
      <tbody id="transactionTable"></tbody>
    </table>

    <script>
      // JSON data
      const transactions = [
        {
          _id: "673f93989fd5f65865732074",
          name: "Rovin",
          TransactionDescription: "idfc0130",
          DebitCredit: "got",
          Amt: -25000,
          TransactionDate: "2024-11-20T17:45:00.000Z",
          __v: 0,
        },
        {
          _id: "673f98189fd5f65865732084",
          name: "Rovin",
          TransactionDescription: "one6868 emi cancel2",
          DebitCredit: "gave",
          Amt: 3322,
          TransactionDate: "2024-11-19T22:30:00.000Z",
          __v: 0,
        },
      ];

      // Create table rows dynamically
      const transactionTable = document.getElementById("transactionTable");
      let runningTotal = 0;

      transactions.forEach((transaction) => {
        // Update running total
        runningTotal += transaction.Amt;

        // Determine 'gave' and 'got' fields
        const gave = transaction.DebitCredit === "gave" ? transaction.Amt : "-";
        const got = transaction.DebitCredit === "got" ? transaction.Amt : "-";

        // Create table row
        const row = `
        <tr>
          <td>${new Date(transaction.TransactionDate).toLocaleString()}</td>
          <td>${transaction.TransactionDescription}</td>
          <td>${gave}</td>
          <td>${got}</td>
          <td>${runningTotal}</td>
        </tr>
      `;

        // Append row to table
        transactionTable.innerHTML += row;
      });
    </script>
  </body>
</html>
